appId: host.exp.exponent
---
# ðŸ§ª E2E Test: User Logout Flow
# Tests: Session termination â†’ JWT cleanup â†’ Security

- launchApp
- waitForAnimationToEnd

# âœ… SUCCESS: App launched successfully
- assertVisible: "ðŸ§ª Fill Test Credentials"

# Login first to test logout
- tapOn: 
    id: "fill-test-credentials-button"
- waitForAnimationToEnd

# âœ… SUCCESS: Test credentials filled (msokol/123456)
- tapOn: 
    id: "login-submit-button"
- waitForAnimationToEnd

# âœ… SUCCESS: User logged in
- assertVisible: "ðŸŽ‰ Welcome to Snjofkalo!"

# âœ… SUCCESS: Authenticated state confirmed
# Access profile to initiate logout
- tapOn: 
    id: "nav-tab-profile"
- waitForAnimationToEnd

# âœ… SUCCESS: Profile page opened
- assertVisible: "Profile Information"

# Navigate to settings/logout
- tapOn: "Settings"
- waitForAnimationToEnd

# âœ… SUCCESS: Settings opened
- assertVisible: "Account Settings"
- assertVisible: "Logout"

# Initiate logout process
- tapOn: "Logout"
- waitForAnimationToEnd

# âœ… SUCCESS: Logout initiated
# Confirm logout action if confirmation dialog appears
- tapOn: "Yes"
- waitForAnimationToEnd:
    timeout: 8000

# âœ… SUCCESS: Logout confirmed
# Verify return to login/welcome screen
- assertVisible: "Login"
- assertVisible: "ðŸ§ª Fill Test Credentials"
- assertVisible: "Register here"

# âœ… SUCCESS: Returned to login screen
# Verify authenticated features are no longer accessible
# Test that previous session data is cleared
- tapOn: 
    id: "fill-test-credentials-button"
- waitForAnimationToEnd

# âœ… SUCCESS: Test credentials filled
- tapOn: 
    id: "login-submit-button"
- waitForAnimationToEnd

# âœ… SUCCESS: New session started
- assertVisible: "ðŸŽ‰ Welcome to Snjofkalo!"

# Verify fresh session - check cart is empty
- tapOn: 
    id: "nav-tab-cart"
- waitForAnimationToEnd

# âœ… SUCCESS: Cart accessed
- assertVisible: "Cart"

# âœ… SUCCESS: Previous session data cleared
# Logout again to end test
- tapOn: 
    id: "nav-tab-profile"
- waitForAnimationToEnd
- tapOn: "Settings"
- waitForAnimationToEnd
- tapOn: "Logout"
- waitForAnimationToEnd
- tapOn: "Yes"
- waitForAnimationToEnd

# âœ… SUCCESS: Final logout completed
- assertVisible: "Login"

---
# ðŸŽ¯ What this test validates:
# âœ… User logout functionality
# âœ… JWT token invalidation/cleanup
# âœ… Session state termination
# âœ… Redirect to login screen
# âœ… Fresh session establishment
# âœ… Navigation security measures 